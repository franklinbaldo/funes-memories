@import "tailwindcss";

@theme {
  --color-void: #050508;
  --color-surface: #0A0A12;
  --color-ink: #E0E0E0;
  --color-ink-dim: #8F93A2;
  --color-candle: #FFB300;
  --color-signal: #00BFA5;
  --color-line: #1F2937;

  --font-serif: "EB Garamond", serif;
  --font-mono: "JetBrains Mono", monospace;

  --spacing-huge: 8rem;
}

@layer base {
  html {
    background-color: var(--color-void);
    color: var(--color-ink);
    font-family: var(--font-serif);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply min-h-screen relative overflow-x-hidden;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-serif font-medium;
  }

  h1 { @apply text-4xl md:text-7xl leading-tight tracking-tight text-white; }
  h2 { @apply text-3xl md:text-4xl leading-snug tracking-tight; }
  h3 { @apply font-mono text-sm md:text-base tracking-widest uppercase text-signal; }

  p { @apply mb-8 text-lg md:text-xl leading-relaxed max-w-[65ch]; }

  code {
    @apply font-mono bg-surface px-1.5 py-0.5 rounded text-[0.9em];
  }

  pre {
    @apply bg-surface p-6 rounded-lg overflow-x-auto border border-line my-8;
  }

  pre code {
    @apply bg-transparent p-0 text-inherit rounded-none;
  }

  blockquote {
    @apply border-l-2 border-candle pl-6 my-8 italic font-serif text-ink-dim;
  }

  a {
    @apply transition-colors duration-200;
  }
}

@layer components {
  .texture-grain {
    @apply fixed inset-0 pointer-events-none z-50 opacity-[0.03];
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    mix-blend-mode: overlay;
  }

  .timeline-line {
    @apply absolute left-0 top-0 bottom-0 w-px bg-line;
  }

  .timeline-marker {
    @apply absolute -left-[4.5px] top-2 w-2 h-2 rounded-full bg-line transition-all duration-300;
  }

  .timeline-card:hover .timeline-marker {
    @apply bg-candle scale-125 shadow-[0_0_8px_var(--color-candle)];
  }

  .marginalia {
    @apply font-mono text-xs leading-relaxed text-ink-dim transition-colors duration-200;
  }

  .marginalia:hover, .marginalia.active {
    @apply text-candle;
  }
}

/* Custom Syntax Highlighting (Noite Eterna) */
.astro-code {
  @apply !bg-surface relative pt-10;
}

.astro-code::before {
  content: "THE_MACHINE // SOURCE";
  @apply absolute top-0 left-0 right-0 h-8 bg-line/30 flex items-center px-4 font-mono text-[10px] text-ink-dim tracking-widest border-b border-line;
}

/* Fix for markdown content styling */
.prose h2 {
  @apply font-serif text-3xl mt-16 mb-8 text-white;
}
.prose h3 {
  @apply font-mono text-sm tracking-widest uppercase text-signal mt-12 mb-6;
}
.prose p {
  @apply mb-8 text-lg md:text-xl leading-relaxed text-ink/90;
}
.prose ul, .prose ol {
  @apply mb-8 pl-6 space-y-4 text-lg text-ink/80;
}
.prose li {
  @apply list-disc;
}
